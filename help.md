
# miditoyz
here's a full list of all the `miditoyz` command help generated by 
calling `miditoyz --help` and `miditoyz <command> --help` for each 
command:

```
$ miditoyz --help
Usage: miditoyz [OPTIONS] COMMAND [ARGS]...

Options:
  --install-completion [bash|zsh|fish|powershell|pwsh]
                                  Install completion for the specified shell.
  --show-completion [bash|zsh|fish|powershell|pwsh]
                                  Show completion for the specified shell, to
                                  copy it or customize the installation.
  --help                          Show this message and exit.

Commands:
  catalog   Change to a new catalog file for streaming.
  db        Analyze music catalog database with duckdb (enter ".quit" to...
  devices   List currently connected midi output devices attached via...
  dump      Dump a MIDI song file in raw text format.
  fields    Show the field names and types from your catalog that you can...
  info      Show current miditoyz settings.
  init      Generate a new music collection from a source directory into...
  merge     Merge source catalog into destination catalog, overwriting...
  metadata  Add user metadata to music to supplement the optional MIDI...
  panic     Send MIDI panic to turn off any hung notes.
  query     Query a song list from your catalog for streaming or managing...
  raw       Dump a MIDI song file in alternative raw text format with...
  stream    Stream music from a catalog song list, a midi file, or...
  verify    Verify MIDI song file can be processed with mido package or...
  voices    Generate a list of voices for each track in a midi song file.
  voicing   Change to a new instrument name for voicing streams.

$ miditoyz init --help
Usage: miditoyz init [OPTIONS] SOURCE_DIRECTORY DESTINATION_DIRECTORY

  Generate a new music collection from a source directory into a destination
  directory removing duplicates songs. Duplicates include same song in
  multiple directory paths, renamed versions of the same song, etc. that have
  identical song content "inside" the song MIDI file.

Arguments:
  SOURCE_DIRECTORY       Directory full of MIDI songs to clean up.  [required]
  DESTINATION_DIRECTORY  Directory for cleaned up MIDI song collection with
                         duplicates removed and catalog generated.  [required]

Options:
  --voices TEXT  Official Yamaha Clavinova "datalist" of voices. Check vendor
                 documentation for other device voicing.  [default:
                 /Users/dirkleas/h4x/miditoyz/datalist.pickle]
  --help         Show this message and exit.

$ miditoyz merge --help
Usage: miditoyz merge [OPTIONS] SOURCE DESTINATION

  Merge source catalog into destination catalog, overwriting destination
  catalog songs with source catalog songs if there are any duplicates.

Arguments:
  SOURCE       Source catalog to merge into destination catalog.  [required]
  DESTINATION  Destination catalog to merge source catalog into, overriding
               duplicates with source songs.  [required]

Options:
  --backup / --no-backup  Create destination catalog backup .zip archive
                          before merging.  [default: backup]
  --help                  Show this message and exit.

$ miditoyz devices --help
Usage: miditoyz devices [OPTIONS]

  List currently connected midi output devices attached via USB, WIFI, or
  Bluetooth.

Options:
  --help  Show this message and exit.

$ miditoyz stream --help
Usage: miditoyz stream [OPTIONS]

  Stream music from a catalog song list, a midi file, or directory full of
  midi files to a midi device with using bank selection and program changes
  based on voice preferences stored in your home directory on Windows as
  ".miditoyz\settings.json" or ".miditoyz/settings.json" on MacOS/Linux. Your
  last song played and saved automatically each time you stream.

  Catalog song lists are CSV files with a mandatory header of "title,id" --
  don't forget to use comma to separate for CSV fields, and double-quote
  fields with commas in them. Create song lists using the "query" command.

  Bookmark values are based on the sequential number of the song in the
  playlist or directory song list starting with 1. We do the right thing if
  you specify a bookmark number that's too big or small or your play different
  music than last time. Don't want to play your songs in order? Try the
  "shuffle" option. Your most important command line options are remembered
  between streaming sessions, so subsequent streamings pick up from the last
  song played if you don't include them (streaming exceptions: shuffle,
  intermission, and debug).

Options:
  --music TEXT              MIDI song file, directory full of music, or song
                            list to stream. A song list is a CSV file with a
                            mandatory header "title,id".  [default:
                            /tmp/tunes]
  --bookmark INTEGER        Bookmark for last song played assuming you don't
                            pick different music.  [default: 1]
  --device TEXT             MIDI device to stream to (e.g. "Clavinova Port 1"
                            for USB, "Network Clavinova for WIFI, etc.))
                            [default: Clavinova Port 1]
  --voicing TEXT            Voicing to use for voice preferences.
  --shuffle / --no-shuffle  Shuffle song order.  [default: no-shuffle]
  --intermission INTEGER    Add specified number of seconds intermission
                            between songs.  [default: 0]
  --debug / --no-debug      Debug output.))  [default: no-debug]
  --help                    Show this message and exit.

$ miditoyz voices --help
Usage: miditoyz voices [OPTIONS] MIDI_FILE

  Generate a list of voices for each track in a midi song file.

Arguments:
  MIDI_FILE  MIDI song file to generate voice list for.  [required]

Options:
  --voices TEXT  Official Yamaha Clavinova "datalist" of voices. Check vendor
                 documentation for other device voicing.  [default:
                 /Users/dirkleas/h4x/miditoyz/datalist.pickle]
  --help         Show this message and exit.

$ miditoyz dump --help
Usage: miditoyz dump [OPTIONS] MIDI_FILE

  Dump a MIDI song file in raw text format. See also: "miditoyz raw --debug".

Arguments:
  MIDI_FILE  MIDI song file to be analyzed.  [required]

Options:
  --metadata / --no-metadata  Show only metadata.  [default: no-metadata]
  --json / --no-json          Convert MIDI song to raw JSON.  [default: no-
                              json]
  --help                      Show this message and exit.

$ miditoyz raw --help
Usage: miditoyz raw [OPTIONS] MIDI_FILE

  Dump a MIDI song file in alternative raw text format with optionally with
  hexdump-style debug output. See also: "miditoyz dump --metadata".

Arguments:
  MIDI_FILE  MIDI file to analyze in extended raw debug format.  [required]

Options:
  --debug / --no-debug  Enable extended raw debug mode.  [default: no-debug]
  --help                Show this message and exit.

$ miditoyz verify --help
Usage: miditoyz verify [OPTIONS] FILE_NAME

  Verify MIDI song file can be processed with mido package or that a JSON or
  CSV file is the correct format.

Arguments:
  FILE_NAME  MIDI song, JSON, or CSV file to verify for correct format.
             [required]

Options:
  --help  Show this message and exit.

$ miditoyz catalog --help
Usage: miditoyz catalog [OPTIONS] CATALOG_DIRECTORY

  Change to a new catalog file for streaming.

Arguments:
  CATALOG_DIRECTORY  Alternative catalog directory from one of your miditoyz
                     song collections.  [required]

Options:
  --help  Show this message and exit.

$ miditoyz voicing --help
Usage: miditoyz voicing [OPTIONS] INSTRUMENT_NAME

  Change to a new instrument name for voicing streams.

Arguments:
  INSTRUMENT_NAME  Instrument name from voices.  [required]

Options:
  --help  Show this message and exit.

$ miditoyz info --help
Usage: miditoyz info [OPTIONS]

  Show current miditoyz settings.

Options:
  --help  Show this message and exit.

$ miditoyz query --help
Usage: miditoyz query [OPTIONS]

  Query a song list from your catalog for streaming or managing user metadata
  with several options to choose from depending on whether you prefer a simple
  or advanced capabilities. Once you see the desired song list, you can save
  it to a .csv file with the --save option.

  The --connective option allows you to specify how multiple options are
  evaluated (e.g. OR means at least one of the options match, and AND means
  they all must match).

  Options can be mixed and matched except for --sql.

Options:
  --title TEXT                Query catalog song title.
  --metadata TEXT             Query catalog song metadata, excluding user
                              provided metadata.
  --sources TEXT              Query catalog song sources.
  --voices TEXT               Query catalog song voicing.
  --favorite / --no-favorite  Query catalog for songs that are marked as
                              favorites.  [default: no-favorite]
  --tag TEXT                  Query catalog with a list of one or more tags
                              (e.g. --tag piano --tag karaoke).
  --genre TEXT                Query catalog with a list of one or more genres
                              (e.g. --genre jazz --genre newOrleans).
  --sql TEXT                  Query using raw SQL (experts only!).
  --save TEXT                 Save your song list query result to a .csv file
                              for use with streaming or adding user metadata.
  --debug / --no-debug        Show SQL generated based on selected query
                              option.  [default: no-debug]
  --connective TEXT           Use OR or AND logic when using multiple options.
                              [default: OR]
  --help                      Show this message and exit.

$ miditoyz metadata --help
Usage: miditoyz metadata [OPTIONS] MUSIC

  Add user metadata to music to supplement the optional MIDI event metadata
  embedded in your song files. User metadata is stored in your catalog
  database and is added to your music by using the query command to identify
  the specific songs you want to specify metadata for. You can also use the
  --backup and --restore if you wish to re-initialize your music collection
  and restore your metadata later.

Arguments:
  MUSIC  MIDI song file, directory full of music, or song list to stream. A
         song list is a CSV file with a mandatory header "title,id".
         [required]

Options:
  --delete / --no-delete      Delete specified option values.
  --favorite / --no-favorite  Add to favorites.  [default: no-favorite]
  --tag TEXT                  A list of tags, provided separately.
  --genre TEXT                A list of genres, provided separately.
  --backup / --no-backup      Export metadata to a .csv file if you need to
                              rerun init and later restore matching metadata.
                              [default: no-backup]
  --restore / --no-restore    Restore metadata from a .csv file if you need to
                              rerun init and later restore matching metadata.
                              [default: no-restore]
  --help                      Show this message and exit.

$ miditoyz fields --help
Usage: miditoyz fields [OPTIONS]

  Show the field names and types from your catalog that you can use when
  querying a playlist for later streaming.

Options:
  --help  Show this message and exit.

$ miditoyz panic --help
Usage: miditoyz panic [OPTIONS]

  Send MIDI panic to turn off any hung notes.

Options:
  --device TEXT  MIDI device to panic reset (e.g. "Clavinova Port 1" for USB,
                 "Network Clavinova for WIFI, etc.))  [default: Clavinova Port
                 1]
  --help         Show this message and exit.

$ miditoyz db --help
Usage: miditoyz db [OPTIONS]

  Analyze music catalog database with duckdb (enter ".quit" to exit when
  finished).

Options:
  --init / --no-init  Initialize just the catalog database, useful if you
                      break things while experimenting.  [default: no-init]
  --help              Show this message and exit.
```
